"""
八字命理计算常量定义
将大型映射表和常量从calculators.py中抽取出来，便于维护和管理
"""

# ========== 基础天干地支常量 ==========

# 天干列表
TIANGAN = ['甲', '乙', '丙', '丁', '戊', '己', '庚', '辛', '壬', '癸']

# 地支列表
DIZHI = ['子', '丑', '寅', '卯', '辰', '巳', '午', '未', '申', '酉', '戌', '亥']

# 六十甲子表（完整60个干支）
JIAZI_TABLE = [
    "甲子", "乙丑", "丙寅", "丁卯", "戊辰", "己巳", "庚午", "辛未", "壬申", "癸酉",
    "甲戌", "乙亥", "丙子", "丁丑", "戊寅", "己卯", "庚辰", "辛巳", "壬午", "癸未",
    "甲申", "乙酉", "丙戌", "丁亥", "戊子", "己丑", "庚寅", "辛卯", "壬辰", "癸巳",
    "甲午", "乙未", "丙申", "丁酉", "戊戌", "己亥", "庚子", "辛丑", "壬寅", "癸卯",
    "甲辰", "乙巳", "丙午", "丁未", "戊申", "己酉", "庚戌", "辛亥", "壬子", "癸丑",
    "甲寅", "乙卯", "丙辰", "丁巳", "戊午", "己未", "庚申", "辛酉", "壬戌", "癸亥"
]

# ========== 基础天干地支映射 ==========

# 天干五行属性
STEM_ELEMENTS = {
    "甲": "木", "乙": "木",
    "丙": "火", "丁": "火", 
    "戊": "土", "己": "土",
    "庚": "金", "辛": "金",
    "壬": "水", "癸": "水"
}

# 地支五行属性
BRANCH_ELEMENTS = {
    "子": "水", "丑": "土", "寅": "木", "卯": "木",
    "辰": "土", "巳": "火", "午": "火", "未": "土",
    "申": "金", "酉": "金", "戌": "土", "亥": "水"
}

# 天干阴阳属性
STEM_YIN_YANG = {
    "甲": "阳", "丙": "阳", "戊": "阳", "庚": "阳", "壬": "阳",
    "乙": "阴", "丁": "阴", "己": "阴", "辛": "阴", "癸": "阴"
}

# 地支阴阳属性
BRANCH_YIN_YANG = {
    "子": "阳", "寅": "阳", "辰": "阳", "午": "阳", "申": "阳", "戌": "阳",
    "丑": "阴", "卯": "阴", "巳": "阴", "未": "阴", "酉": "阴", "亥": "阴"
}

# 地支藏干及权重
BRANCH_HIDDEN_STEMS = {
    "子": {"癸": 1.0},
    "丑": {"己": 0.6, "癸": 0.3, "辛": 0.1},
    "寅": {"甲": 0.6, "丙": 0.3, "戊": 0.1},
    "卯": {"乙": 1.0},
    "辰": {"戊": 0.6, "乙": 0.3, "癸": 0.1},
    "巳": {"丙": 0.6, "戊": 0.3, "庚": 0.1},
    "午": {"丁": 0.7, "己": 0.3},
    "未": {"己": 0.6, "丁": 0.3, "乙": 0.1},
    "申": {"庚": 0.6, "壬": 0.3, "戊": 0.1},
    "酉": {"辛": 1.0},
    "戌": {"戊": 0.6, "辛": 0.3, "丁": 0.1},
    "亥": {"壬": 0.7, "甲": 0.3}
}

# ========== 五行生克关系 ==========

# 五行相生
FIVE_ELEMENTS_GENERATION = {
    "木": "火", "火": "土", "土": "金", "金": "水", "水": "木"
}

# 五行相克
FIVE_ELEMENTS_OVERCOMING = {
    "木": "土", "火": "金", "土": "水", "金": "木", "水": "火"
}

# 反向相生（谁生我）
REVERSE_GENERATION = {v: k for k, v in FIVE_ELEMENTS_GENERATION.items()}

# 反向相克（谁克我）
REVERSE_OVERCOMING = {v: k for k, v in FIVE_ELEMENTS_OVERCOMING.items()}

# ========== 六十甲子纳音映射 ==========

NAYIN_MAP_COMPLETE = {
    # 甲子旬
    "甲子": "海中金", "乙丑": "海中金",
    "丙寅": "炉中火", "丁卯": "炉中火",
    "戊辰": "大林木", "己巳": "大林木",
    "庚午": "路旁土", "辛未": "路旁土",
    "壬申": "剑锋金", "癸酉": "剑锋金",
    "甲戌": "山头火", "乙亥": "山头火",
    
    # 甲戌旬
    "丙子": "涧下水", "丁丑": "涧下水",
    "戊寅": "城头土", "己卯": "城头土",
    "庚辰": "白蜡金", "辛巳": "白蜡金",
    "壬午": "杨柳木", "癸未": "杨柳木",
    "甲申": "泉中水", "乙酉": "泉中水",
    "丙戌": "屋上土", "丁亥": "屋上土",
    
    # 甲申旬
    "戊子": "霹雳火", "己丑": "霹雳火",
    "庚寅": "松柏木", "辛卯": "松柏木",
    "壬辰": "长流水", "癸巳": "长流水",
    "甲午": "砂中金", "乙未": "砂中金",
    "丙申": "山下火", "丁酉": "山下火",
    "戊戌": "平地木", "己亥": "平地木",
    
    # 甲午旬
    "庚子": "壁上土", "辛丑": "壁上土",
    "壬寅": "金箔金", "癸卯": "金箔金",
    "甲辰": "覆灯火", "乙巳": "覆灯火",
    "丙午": "天河水", "丁未": "天河水",
    "戊申": "大驿土", "己酉": "大驿土",
    "庚戌": "钗钏金", "辛亥": "钗钏金",
    
    # 甲辰旬
    "壬子": "桑柘木", "癸丑": "桑柘木",
    "甲寅": "大溪水", "乙卯": "大溪水",
    "丙辰": "沙中土", "丁巳": "沙中土",
    "戊午": "天上火", "己未": "天上火",
    "庚申": "石榴木", "辛酉": "石榴木",
    "壬戌": "大海水", "癸亥": "大海水"
}

# 纳音五行分类
NAYIN_ELEMENT_MAPPING = {
    "木": 0, "火": 1, "土": 2, "金": 3, "水": 4
}

# 纳音名称标准化映射（处理不同写法）
NAYIN_STANDARDIZATION = {
    # 标准写法映射
    "白蜡金": "白腊金",  # 蜡腊通用
    "白腊金": "白腊金",  # 保持标准
    "钗钏金": "钗钏金",  # 保持标准
    "钗釵金": "钗钏金",  # 繁简转换
    # 可以继续添加其他需要标准化的纳音名称
}

# ========== 干支合冲刑害关系 ==========

# 天干五合
STEM_COMBINATIONS = {
    ("甲", "己"): "土", ("己", "甲"): "土",  # 甲己合土
    ("乙", "庚"): "金", ("庚", "乙"): "金",  # 乙庚合金
    ("丙", "辛"): "水", ("辛", "丙"): "水",  # 丙辛合水
    ("丁", "壬"): "木", ("壬", "丁"): "木",  # 丁壬合木
    ("戊", "癸"): "火", ("癸", "戊"): "火",  # 戊癸合火
}

# 地支六合
BRANCH_SIX_COMBINATIONS = {
    ("子", "丑"): "土", ("丑", "子"): "土",  # 子丑合土
    ("寅", "亥"): "木", ("亥", "寅"): "木",  # 寅亥合木
    ("卯", "戌"): "火", ("戌", "卯"): "火",  # 卯戌合火
    ("辰", "酉"): "金", ("酉", "辰"): "金",  # 辰酉合金
    ("巳", "申"): "水", ("申", "巳"): "水",  # 巳申合水
    ("午", "未"): "土", ("未", "午"): "土",  # 午未合土
}

# 地支三合局
BRANCH_THREE_COMBINATIONS = {
    ("申", "子", "辰"): "水",  # 申子辰合水局
    ("寅", "午", "戌"): "火",  # 寅午戌合火局
    ("亥", "卯", "未"): "木",  # 亥卯未合木局
    ("巳", "酉", "丑"): "金",  # 巳酉丑合金局
}

# 地支半合局
BRANCH_HALF_COMBINATIONS = {
    ("申", "子"): "水", ("子", "申"): "水",  # 申子半合水
    ("子", "辰"): "水", ("辰", "子"): "水",  # 子辰半合水
    ("寅", "午"): "火", ("午", "寅"): "火",  # 寅午半合火
    ("午", "戌"): "火", ("戌", "午"): "火",  # 午戌半合火
    ("亥", "卯"): "木", ("卯", "亥"): "木",  # 亥卯半合木
    ("卯", "未"): "木", ("未", "卯"): "木",  # 卯未半合木
    ("巳", "酉"): "金", ("酉", "巳"): "金",  # 巳酉半合金
    ("酉", "丑"): "金", ("丑", "酉"): "金",  # 酉丑半合金
}

# 地支六冲
BRANCH_SIX_CONFLICTS = {
    ("子", "午"), ("午", "子"),  # 子午冲
    ("丑", "未"), ("未", "丑"),  # 丑未冲
    ("寅", "申"), ("申", "寅"),  # 寅申冲
    ("卯", "酉"), ("酉", "卯"),  # 卯酉冲
    ("辰", "戌"), ("戌", "辰"),  # 辰戌冲
    ("巳", "亥"), ("亥", "巳"),  # 巳亥冲
}

# 地支相刑
BRANCH_THREE_PENALTIES = {
    ("寅", "巳", "申"): "恃势之刑",  # 寅巳申三刑
    ("丑", "戌", "未"): "无恩之刑",  # 丑戌未三刑
}

# 地支自刑
BRANCH_SELF_PENALTIES = ["辰", "午", "酉", "亥"]

# 地支相害（相穿）
BRANCH_SIX_HARMS = {
    ("子", "未"), ("未", "子"),  # 子未害
    ("丑", "午"), ("午", "丑"),  # 丑午害
    ("寅", "巳"), ("巳", "寅"),  # 寅巳害
    ("卯", "辰"), ("辰", "卯"),  # 卯辰害
    ("申", "亥"), ("亥", "申"),  # 申亥害
    ("酉", "戌"), ("戌", "酉"),  # 酉戌害
}

# ========== 季节调候参数 ==========

# 季节五行强弱调整系数
SEASONAL_MODIFIERS = {
    "春": {"木": 1.5, "火": 1.0, "土": 0.7, "金": 0.6, "水": 0.8},
    "夏": {"木": 0.8, "火": 1.5, "土": 1.0, "金": 0.6, "水": 0.7},
    "秋": {"木": 0.6, "火": 0.7, "土": 1.0, "金": 1.5, "水": 0.8},
    "冬": {"木": 0.7, "火": 0.6, "土": 0.8, "金": 1.0, "水": 1.5}
}

# 月份到季节的映射
MONTH_TO_SEASON = {
    1: "冬", 2: "冬", 3: "春", 4: "春", 5: "春", 6: "夏",
    7: "夏", 8: "夏", 9: "秋", 10: "秋", 11: "秋", 12: "冬"
}

# ========== 神煞相关常量 ==========

# 驿马查法：以年支或日支查
YIMA_MAPPING = {
    "申": "寅", "子": "寅", "辰": "寅",  # 申子辰见寅
    "寅": "申", "午": "申", "戌": "申",  # 寅午戌见申
    "巳": "亥", "酉": "亥", "丑": "亥",  # 巳酉丑见亥
    "亥": "巳", "卯": "巳", "未": "巳",  # 亥卯未见巳
}

# 桃花查法：以年支或日支查
TAOHUA_MAPPING = {
    "申": "酉", "子": "酉", "辰": "酉",  # 申子辰见酉
    "寅": "卯", "午": "卯", "戌": "卯",  # 寅午戌见卯
    "巳": "午", "酉": "午", "丑": "午",  # 巳酉丑见午
    "亥": "子", "卯": "子", "未": "子",  # 亥卯未见子
}

# 贵人查法（天乙贵人）
TIANYI_GUIREN_MAPPING = {
    "甲": ["丑", "未"], "戊": ["丑", "未"],
    "乙": ["子", "申"], "己": ["子", "申"],
    "丙": ["亥", "酉"], "丁": ["亥", "酉"],
    "庚": ["丑", "未"], "辛": ["寅", "午"],
    "壬": ["卯", "巳"], "癸": ["巳", "卯"]
}

# ========== 高级神煞计算常量 ==========

# 天乙贵人专业查法（日干查贵人）
TIANYI_GUIREN_DETAILED = {
    "甲": {"day": ["丑", "未"], "night": ["未", "丑"]},
    "乙": {"day": ["子", "申"], "night": ["申", "子"]},
    "丙": {"day": ["亥", "酉"], "night": ["酉", "亥"]},
    "丁": {"day": ["亥", "酉"], "night": ["酉", "亥"]},
    "戊": {"day": ["丑", "未"], "night": ["未", "丑"]},
    "己": {"day": ["子", "申"], "night": ["申", "子"]},
    "庚": {"day": ["丑", "未"], "night": ["未", "丑"]},
    "辛": {"day": ["寅", "午"], "night": ["午", "寅"]},
    "壬": {"day": ["卯", "巳"], "night": ["巳", "卯"]},
    "癸": {"day": ["巳", "卯"], "night": ["卯", "巳"]}
}

# 文昌贵人查法
WENCHANG_GUIREN_MAPPING = {
    "甲": "巳", "乙": "午", "丙": "申", "丁": "酉", "戊": "申",
    "己": "酉", "庚": "亥", "辛": "子", "壬": "寅", "癸": "卯"
}

# 禄神查法（十干禄位）
LUSHEN_MAPPING = {
    "甲": "寅", "乙": "卯", "丙": "巳", "丁": "午", "戊": "巳",
    "己": "午", "庚": "申", "辛": "酉", "壬": "亥", "癸": "子"
}

# 羊刃查法
YANGBIAN_MAPPING = {
    "甲": "卯", "乙": "寅", "丙": "午", "丁": "巳", "戊": "午",
    "己": "巳", "庚": "酉", "辛": "申", "壬": "子", "癸": "亥"
}

# 华盖查法（以年支或日支查）
HUAGAI_MAPPING = {
    "寅": "戌", "午": "戌", "戌": "戌",  # 寅午戌见戌
    "申": "辰", "子": "辰", "辰": "辰",  # 申子辰见辰
    "亥": "未", "卯": "未", "未": "未",  # 亥卯未见未
    "巳": "丑", "酉": "丑", "丑": "丑",  # 巳酉丑见丑
}

# 将星查法
JIANGXING_MAPPING = {
    "申": "子", "子": "子", "辰": "子",  # 申子辰见子
    "寅": "午", "午": "午", "戌": "午",  # 寅午戌见午
    "巳": "酉", "酉": "酉", "丑": "酉",  # 巳酉丑见酉
    "亥": "卯", "卯": "卯", "未": "卯",  # 亥卯未见卯
}

# 神煞吉凶程度分级
SHENSHA_AUSPICIOUS_LEVELS = {
    "天乙贵人": 9, "文昌贵人": 8, "禄神": 8, "天德贵人": 9, "月德贵人": 8,
    "太极贵人": 7, "将星": 7, "华盖": 6, "金匮": 6, "天医": 6,
    "驿马": 5, "桃花": 3, "孤鸾": 2, "亡神": 1, "劫煞": 1
}

# ========== 真太阳时校正常量 ==========

# 标准经度（东八区使用东经120度）
STANDARD_LONGITUDE = 120.0

# 中国主要城市经度数据
CITY_LONGITUDE_MAPPING = {
    # 直辖市
    "北京": 116.4074, "上海": 121.4737, "天津": 117.2008, "重庆": 106.5516,
    
    # 省会城市
    "广州": 113.2644, "深圳": 114.0579, "杭州": 120.1551, "南京": 118.7969,
    "武汉": 114.2619, "成都": 104.0665, "西安": 108.9398, "郑州": 113.6254,
    "济南": 117.0009, "沈阳": 123.4315, "长春": 125.3245, "哈尔滨": 126.6394,
    "合肥": 117.2272, "福州": 119.3063, "南昌": 115.8921, "长沙": 112.9388,
    "海口": 110.3312, "南宁": 108.3669, "昆明": 102.8329, "贵阳": 106.7135,
    "拉萨": 91.1409, "兰州": 103.8236, "西宁": 101.7782, "银川": 106.2309,
    "乌鲁木齐": 87.6168, "石家庄": 114.5149, "太原": 112.5665,
    
    # 特别行政区
    "香港": 114.1694, "澳门": 113.5491,
    
    # 其他重要城市
    "苏州": 120.6519, "无锡": 120.3019, "常州": 119.9463, "南通": 120.8956,
    "扬州": 119.4179, "镇江": 119.4763, "泰州": 119.9151, "宿迁": 118.2757,
    "宁波": 121.5440, "温州": 120.6994, "嘉兴": 120.7550, "湖州": 120.0864,
    "绍兴": 120.5820, "金华": 119.6477, "衢州": 118.8718, "舟山": 122.2559,
    "台州": 121.4286, "丽水": 119.9220,
    
    # 广东省主要城市
    "佛山": 113.1220, "东莞": 113.7518, "中山": 113.3824, "珠海": 113.5767,
    "江门": 113.0782, "惠州": 114.4129, "汕头": 116.7081, "湛江": 110.3593,
    "茂名": 110.9255, "肇庆": 112.4721, "梅州": 116.1255, "汕尾": 115.3645,
    "河源": 114.6974, "阳江": 111.9816, "清远": 113.0368, "韶关": 113.5984,
    "揭阳": 116.3557, "潮州": 116.6302, "云浮": 112.0446,
    
    # 江苏省主要城市
    "徐州": 117.1830, "盐城": 120.1253, "淮安": 119.0153, "连云港": 119.1248,
    
    # 山东省主要城市  
    "青岛": 120.3826, "烟台": 121.3906, "潍坊": 119.1078, "临沂": 118.3118,
    "济宁": 116.5871, "泰安": 117.0874, "威海": 122.1202, "日照": 119.5269,
    "滨州": 117.9708, "东营": 118.6751, "聊城": 115.9167, "德州": 116.3075,
    "菏泽": 115.4808, "枣庄": 117.3236, "淄博": 118.0371, "莱芜": 117.6526,
}

# 均时差数据（简化版，按月份）- 单位：分钟
EQUATION_OF_TIME_BY_MONTH = {
    1: -3.8, 2: -13.7, 3: -8.8, 4: 1.2, 5: 3.8, 6: -2.4,
    7: -5.6, 8: -6.2, 9: -0.1, 10: 10.1, 11: 16.5, 12: 2.3
}

# 更精确的均时差数据（按日期）- 单位：分钟
EQUATION_OF_TIME_BY_DAY = {
    # 一月
    1: -3.8, 2: -4.2, 3: -4.6, 4: -5.0, 5: -5.4, 6: -5.7, 7: -6.1, 8: -6.4, 9: -6.7, 10: -7.0,
    11: -7.3, 12: -7.6, 13: -7.8, 14: -8.1, 15: -8.3, 16: -8.5, 17: -8.7, 18: -8.9, 19: -9.0, 20: -9.1,
    21: -9.2, 22: -9.3, 23: -9.4, 24: -9.4, 25: -9.4, 26: -9.4, 27: -9.4, 28: -9.3, 29: -9.3, 30: -9.2, 31: -9.1,
    
    # 二月
    32: -8.9, 33: -8.8, 34: -8.6, 35: -8.4, 36: -8.2, 37: -8.0, 38: -7.7, 39: -7.5, 40: -7.2, 41: -6.9,
    42: -6.6, 43: -6.3, 44: -5.9, 45: -5.6, 46: -5.2, 47: -4.8, 48: -4.4, 49: -4.0, 50: -3.5, 51: -3.1,
    52: -2.6, 53: -2.1, 54: -1.6, 55: -1.1, 56: -0.6, 57: -0.0, 58: 0.5, 59: 1.0,
    
    # 三月
    60: 1.5, 61: 2.0, 62: 2.5, 63: 3.0, 64: 3.5, 65: 4.0, 66: 4.4, 67: 4.9, 68: 5.3, 69: 5.7,
    70: 6.1, 71: 6.5, 72: 6.8, 73: 7.1, 74: 7.4, 75: 7.7, 76: 7.9, 77: 8.1, 78: 8.3, 79: 8.4,
    80: 8.5, 81: 8.6, 82: 8.6, 83: 8.6, 84: 8.6, 85: 8.5, 86: 8.4, 87: 8.3, 88: 8.1, 89: 7.9, 90: 7.7,
    
    # 四月及以后的数据可以根据需要继续添加...
    # 这里提供基础数据，可以通过插值计算获得更精确的值
}

# 城市经度查找的备选方案（省份级别）
PROVINCE_LONGITUDE_MAPPING = {
    "北京": 116.4, "天津": 117.2, "河北": 114.5, "山西": 112.6, "内蒙古": 111.8,
    "辽宁": 123.4, "吉林": 125.3, "黑龙江": 126.6, "上海": 121.5, "江苏": 118.8,
    "浙江": 120.2, "安徽": 117.2, "福建": 119.3, "江西": 115.9, "山东": 117.0,
    "河南": 113.6, "湖北": 114.3, "湖南": 112.9, "广东": 113.3, "广西": 108.4,
    "海南": 110.3, "重庆": 106.6, "四川": 104.1, "贵州": 106.7, "云南": 102.8,
    "西藏": 91.1, "陕西": 108.9, "甘肃": 103.8, "青海": 101.8, "宁夏": 106.2,
    "新疆": 87.6, "香港": 114.2, "澳门": 113.5, "台湾": 121.0
}

# ========== 长生十二宫常量 ==========

# 长生十二宫状态列表
CHANG_SHENG_STATES = ["长生", "沐浴", "冠带", "临官", "帝旺", "衰", "病", "死", "墓", "绝", "胎", "养"]

# 长生十二宫映射表（天干在地支上的状态）
CHANG_SHENG_MAPPING = {
    "甲": {
        "亥": "长生", "子": "沐浴", "丑": "冠带", "寅": "临官", "卯": "帝旺", "辰": "衰",
        "巳": "病", "午": "死", "未": "墓", "申": "绝", "酉": "胎", "戌": "养"
    },
    "乙": {
        "午": "长生", "巳": "沐浴", "辰": "冠带", "卯": "临官", "寅": "帝旺", "丑": "衰",
        "子": "病", "亥": "死", "戌": "墓", "酉": "绝", "申": "胎", "未": "养"
    },
    "丙": {
        "寅": "长生", "卯": "沐浴", "辰": "冠带", "巳": "临官", "午": "帝旺", "未": "衰",
        "申": "病", "酉": "死", "戌": "墓", "亥": "绝", "子": "胎", "丑": "养"
    },
    "丁": {
        "酉": "长生", "申": "沐浴", "未": "冠带", "午": "临官", "巳": "帝旺", "辰": "衰",
        "卯": "病", "寅": "死", "丑": "墓", "子": "绝", "亥": "胎", "戌": "养"
    },
    "戊": {
        "寅": "长生", "卯": "沐浴", "辰": "冠带", "巳": "临官", "午": "帝旺", "未": "衰",
        "申": "病", "酉": "死", "戌": "墓", "亥": "绝", "子": "胎", "丑": "养"
    },
    "己": {
        "酉": "长生", "申": "沐浴", "未": "冠带", "午": "临官", "巳": "帝旺", "辰": "衰",
        "卯": "病", "寅": "死", "丑": "墓", "子": "绝", "亥": "胎", "戌": "养"
    },
    "庚": {
        "巳": "长生", "午": "沐浴", "未": "冠带", "申": "临官", "酉": "帝旺", "戌": "衰",
        "亥": "病", "子": "死", "丑": "墓", "寅": "绝", "卯": "胎", "辰": "养"
    },
    "辛": {
        "子": "长生", "亥": "沐浴", "戌": "冠带", "酉": "临官", "申": "帝旺", "未": "衰",
        "午": "病", "巳": "死", "辰": "墓", "卯": "绝", "寅": "胎", "丑": "养"
    },
    "壬": {
        "申": "长生", "酉": "沐浴", "戌": "冠带", "亥": "临官", "子": "帝旺", "丑": "衰",
        "寅": "病", "卯": "死", "辰": "墓", "巳": "绝", "午": "胎", "未": "养"
    },
    "癸": {
        "卯": "长生", "寅": "沐浴", "丑": "冠带", "子": "临官", "亥": "帝旺", "戌": "衰",
        "酉": "病", "申": "死", "未": "墓", "午": "绝", "巳": "胎", "辰": "养"
    }
}

# 长生十二宫强度等级
CHANG_SHENG_STRENGTH_LEVELS = {
    "长生": "强", "沐浴": "弱", "冠带": "中", "临官": "强", "帝旺": "极强", "衰": "弱",
    "病": "极弱", "死": "极弱", "墓": "弱", "绝": "极弱", "胎": "弱", "养": "中"
}

# 长生十二宫数值等级（用于算法计算）
CHANG_SHENG_STRENGTH_VALUES = {
    "长生": 8, "沐浴": 3, "冠带": 5, "临官": 8, "帝旺": 10, "衰": 3,
    "病": 1, "死": 1, "墓": 2, "绝": 0, "胎": 2, "养": 4
}

# ========== 地支藏干详细映射 ==========

# 地支藏干表（详细版本）
# 地支藏干本气（主气）
BRANCH_MAIN_STEMS = {
    "子": "癸", "丑": "己", "寅": "甲", "卯": "乙", "辰": "戊", "巳": "丙",
    "午": "丁", "未": "己", "申": "庚", "酉": "辛", "戌": "戊", "亥": "壬"
}

# ========== 十神关系常量 ==========

# 十神名称列表
TEN_GODS = ["比肩", "劫财", "食神", "伤官", "偏财", "正财", "七杀", "正官", "偏印", "正印"]

# 十神分类
TEN_GODS_CLASSIFICATION = {
    "比劫": ["比肩", "劫财"],
    "食伤": ["食神", "伤官"], 
    "财星": ["偏财", "正财"],
    "官杀": ["七杀", "正官"],
    "印星": ["偏印", "正印"]
}

# ========== 旬空神煞映射 ==========

# 旬空查法（六甲旬空）
XUNKONG_MAPPING = {
    # 甲子旬（甲子、乙丑、丙寅、丁卯、戊辰、己巳、庚午、辛未、壬申、癸酉）
    "甲子": ["戌", "亥"], "乙丑": ["戌", "亥"], "丙寅": ["戌", "亥"], "丁卯": ["戌", "亥"], "戊辰": ["戌", "亥"],
    "己巳": ["戌", "亥"], "庚午": ["戌", "亥"], "辛未": ["戌", "亥"], "壬申": ["戌", "亥"], "癸酉": ["戌", "亥"],
    
    # 甲戌旬（甲戌、乙亥、丙子、丁丑、戊寅、己卯、庚辰、辛巳、壬午、癸未）
    "甲戌": ["申", "酉"], "乙亥": ["申", "酉"], "丙子": ["申", "酉"], "丁丑": ["申", "酉"], "戊寅": ["申", "酉"],
    "己卯": ["申", "酉"], "庚辰": ["申", "酉"], "辛巳": ["申", "酉"], "壬午": ["申", "酉"], "癸未": ["申", "酉"],
    
    # 甲申旬（甲申、乙酉、丙戌、丁亥、戊子、己丑、庚寅、辛卯、壬辰、癸巳）
    "甲申": ["午", "未"], "乙酉": ["午", "未"], "丙戌": ["午", "未"], "丁亥": ["午", "未"], "戊子": ["午", "未"],
    "己丑": ["午", "未"], "庚寅": ["午", "未"], "辛卯": ["午", "未"], "壬辰": ["午", "未"], "癸巳": ["午", "未"],
    
    # 甲午旬（甲午、乙未、丙申、丁酉、戊戌、己亥、庚子、辛丑、壬寅、癸卯）
    "甲午": ["辰", "巳"], "乙未": ["辰", "巳"], "丙申": ["辰", "巳"], "丁酉": ["辰", "巳"], "戊戌": ["辰", "巳"],
    "己亥": ["辰", "巳"], "庚子": ["辰", "巳"], "辛丑": ["辰", "巳"], "壬寅": ["辰", "巳"], "癸卯": ["辰", "巳"],
    
    # 甲辰旬（甲辰、乙巳、丙午、丁未、戊申、己酉、庚戌、辛亥、壬子、癸丑）
    "甲辰": ["寅", "卯"], "乙巳": ["寅", "卯"], "丙午": ["寅", "卯"], "丁未": ["寅", "卯"], "戊申": ["寅", "卯"],
    "己酉": ["寅", "卯"], "庚戌": ["寅", "卯"], "辛亥": ["寅", "卯"], "壬子": ["寅", "卯"], "癸丑": ["寅", "卯"],
    
    # 甲寅旬（甲寅、乙卯、丙辰、丁巳、戊午、己未、庚申、辛酉、壬戌、癸亥）
    "甲寅": ["子", "丑"], "乙卯": ["子", "丑"], "丙辰": ["子", "丑"], "丁巳": ["子", "丑"], "戊午": ["子", "丑"],
    "己未": ["子", "丑"], "庚申": ["子", "丑"], "辛酉": ["子", "丑"], "壬戌": ["子", "丑"], "癸亥": ["子", "丑"]
}

# ========== 详细神煞组合映射 ==========

# 天干合化详细映射
STEM_COMBINATIONS_DETAILED = {
    ("甲", "己"): "合化土", ("己", "甲"): "合化土",
    ("乙", "庚"): "合化金", ("庚", "乙"): "合化金", 
    ("丙", "辛"): "合化水", ("辛", "丙"): "合化水",
    ("丁", "壬"): "合化木", ("壬", "丁"): "合化木",
    ("戊", "癸"): "合化火", ("癸", "戊"): "合化火"
}

# 地支冲克映射
BRANCH_CONFLICTS_MAPPING = {
    "子": "午", "午": "子", "丑": "未", "未": "丑",
    "寅": "申", "申": "寅", "卯": "酉", "酉": "卯", 
    "辰": "戌", "戌": "辰", "巳": "亥", "亥": "巳"
}

# 地支六合详细映射
BRANCH_SIX_COMBINATIONS_DETAILED = {
    ("子", "丑"): "合化土", ("丑", "子"): "合化土",
    ("寅", "亥"): "合化木", ("亥", "寅"): "合化木",
    ("卯", "戌"): "合化火", ("戌", "卯"): "合化火", 
    ("辰", "酉"): "合化金", ("酉", "辰"): "合化金",
    ("巳", "申"): "合化水", ("申", "巳"): "合化水",
    ("午", "未"): "合化土", ("未", "午"): "合化土"
}

# 地支三合详细映射
BRANCH_THREE_COMBINATIONS_DETAILED = {
    ("申", "子", "辰"): "水局", ("子", "辰", "申"): "水局", ("辰", "申", "子"): "水局",
    ("亥", "卯", "未"): "木局", ("卯", "未", "亥"): "木局", ("未", "亥", "卯"): "木局",
    ("寅", "午", "戌"): "火局", ("午", "戌", "寅"): "火局", ("戌", "寅", "午"): "火局",
    ("巳", "酉", "丑"): "金局", ("酉", "丑", "巳"): "金局", ("丑", "巳", "酉"): "金局"
}

# 地支刑害详细映射
BRANCH_PUNISHMENTS_DETAILED = {
    ("寅", "巳", "申"): "无恩之刑",
    ("丑", "戌", "未"): "恃势之刑", 
    ("子", "卯"): "无礼之刑",
    ("辰", "午", "酉", "亥"): "自刑"
}

BRANCH_HARMS_DETAILED = {
    ("子", "未"): "害", ("未", "子"): "害",
    ("丑", "午"): "害", ("午", "丑"): "害",
    ("寅", "巳"): "害", ("巳", "寅"): "害",
    ("卯", "辰"): "害", ("辰", "卯"): "害",
    ("申", "亥"): "害", ("亥", "申"): "害",
    ("酉", "戌"): "害", ("戌", "酉"): "害"
}

# ========== 日主强度计算常量 ==========

# 日主强度权重配置
DAY_MASTER_STRENGTH_WEIGHTS = {
    "month_same": 0.3,          # 月令同五行（得月令）
    "month_generate": 0.2,      # 月令生日主
    "month_overcome": -0.2,     # 月令克日主
    "year_branch_same": 0.1,    # 年支同五行
    "year_branch_generate": 0.05, # 年支生日主
    "hour_branch_same": 0.1,    # 时支同五行
    "hour_branch_generate": 0.05, # 时支生日主
    "stem_same": 0.1,          # 天干同五行
    "stem_generate": 0.05,     # 天干生日主
    "base_strength": 0.5       # 基础强度
}

# 日主强度阈值配置
DAY_MASTER_STRENGTH_THRESHOLDS = {
    "very_weak": 0.3,          # 极弱阈值
    "weak": 0.4,               # 身弱阈值
    "balanced": 0.5,           # 中和阈值
    "strong": 0.6,             # 身强阈值
    "very_strong": 0.8,        # 极强阈值
    "weak_threshold": 0.4,     # 身弱阈值（兼容）
    "strong_threshold": 0.6,   # 身强阈值（兼容）
    "min_strength": 0.1,       # 最小强度
    "max_strength": 0.9        # 最大强度
}

# ========== 五行计算权重常量 ==========

# 五行能量权重配置（用于精确计算五行占比）
FIVE_ELEMENTS_ENERGY_WEIGHTS = {
    "stem_weight": 1.0,        # 天干权重
    "branch_weight": 1.2,      # 地支权重
    "hidden_stem_weight": 0.8, # 地支藏干权重
    "main_hidden_weight": 1.0, # 地支本气权重
    "sub_hidden_weight": 0.6,  # 地支中气权重
    "weak_hidden_weight": 0.3  # 地支余气权重
}
